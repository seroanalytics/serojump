<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Intro 1: Data format for input files â€¢ serojump</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Intro 1: Data format for input files">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">serojump</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data_format.html">Intro 1: Data format for input files</a>
    </li>
    <li>
      <a href="../articles/model_define.html">Intro 2: Explanation of observational and antibody kinetics models</a>
    </li>
    <li>
      <a href="../articles/sim_recovery.html">Case Study 1: Simulation Recovery</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Intro 1: Data format for input files</h1>
                        <h4 data-toc-skip class="author">David
Hodgson</h4>
            
            <h4 data-toc-skip class="date">2024-10-15</h4>
      

      <div class="hidden name"><code>data_format.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This document explains the format and structure of three important
data frames used in serological studies:</p>
<ol style="list-style-type: decimal">
<li>
<strong>data_sero</strong>: A required data frame containing
individual biomarker readings over the study period.</li>
<li>
<strong>exposure_data</strong>: An optional data frame that stores
known exposure information for individuals over the study period.</li>
<li>
<strong>attack_rate_data</strong>: A required data frame
representing the empirical probability density function (PDF) of the
attack rate over the study period.</li>
</ol>
<p>Each section explains the required and optional columns for the data
frames and provides an example.</p>
<hr>
</div>
<div class="section level2">
<h2 id="main-data-frame-data_sero">1. Main data frame: <code>data_sero</code><a class="anchor" aria-label="anchor" href="#main-data-frame-data_sero"></a>
</h2>
<p>The primary data frame <code>data_sero</code> must contain the
following columns:</p>
<ul>
<li>
<strong>id</strong>: An integer representing the unique identifier
for each individual.</li>
<li>
<strong>time</strong>: A numeric (real) value representing the time
at which the biomarker measurement was taken.</li>
<li>
<strong>biomarker_column</strong>: A dynamically named column that
stores the biomarker measurement for the individual. The name of this
column is defined by the variable <code>biomarkers</code>.</li>
</ul>
<div class="section level3">
<h3 id="example-for-data_sero">Example for <code>data_sero</code><a class="anchor" aria-label="anchor" href="#example-for-data_sero"></a>
</h3>
<p>Note: you can have multiple biomarkers for each individual, simply
provide more columns of data and name the column header the name of the
biomarkers.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define the biomarker name</span></span>
<span><span class="va">biomarkers</span> <span class="op">&lt;-</span> <span class="st">"IgG"</span></span>
<span></span>
<span><span class="co"># Create the data_sero dataframe</span></span>
<span><span class="va">data_sero</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>  IgG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">2.4</span>, <span class="fl">1.2</span>, <span class="fl">2.4</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_sero</span></span></code></pre></div>
<pre><code><span><span class="co">##   id time IgG</span></span>
<span><span class="co">## 1  1    1 1.2</span></span>
<span><span class="co">## 2  1    5 2.4</span></span>
<span><span class="co">## 3  2    1 1.2</span></span>
<span><span class="co">## 4  2    5 2.4</span></span>
<span><span class="co">## 5  3    1 3.0</span></span>
<span><span class="co">## 6  3    5 3.0</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="optional-data-frame-exposure_data">2. Optional Data Frame: <code>exposure_data</code><a class="anchor" aria-label="anchor" href="#optional-data-frame-exposure_data"></a>
</h2>
<p>The <code>exposure_data</code> is an optional data frame used to
track known exposure events and the timing for each individual. The
exposure types must match those defined in the variable
<code>exposureTypes</code>. An exposure is something that is known in
the study that would have an effect on the biomarker being measured.
Usually this is a known vaccination date, or a known date of infection
from PCR.</p>
<div class="section level3">
<h3 id="required-columns">Required Columns<a class="anchor" aria-label="anchor" href="#required-columns"></a>
</h3>
<ul>
<li>
<strong>id</strong>: An integer representing the unique identifier
for each individual.</li>
<li>
<strong>time</strong>: A numeric value representing the time at
which the exposure is recorded.</li>
<li>
<strong>exposure_Type</strong>: A factor or character representing
the type of exposure the individual experienced. The exposure types must
match those defined in <code>exposureTypes</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="example-for-exposure_data">Example for <code>exposure_data</code><a class="anchor" aria-label="anchor" href="#example-for-exposure_data"></a>
</h3>
<p>Note: if not defined will assume there are no known exposures in the
study.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define possible exposure types</span></span>
<span><span class="va">exposureTypes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"inf"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the exposure_data dataframe</span></span>
<span><span class="va">exposure_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>  exposure_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"inf"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">exposure_data</span></span></code></pre></div>
<pre><code><span><span class="co">##   id time exposure_type</span></span>
<span><span class="co">## 1  1    3           inf</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="required-data-frame-attack_rate_data">3. Required Data Frame: <code>attack_rate_data</code><a class="anchor" aria-label="anchor" href="#required-data-frame-attack_rate_data"></a>
</h2>
<p>The <code>attack_rate_data</code> data frame represents the empirical
probability density function (PDF) of the attack rate over the study
period. It contains information about the likelihood of an event (such
as an infection or outbreak) occurring at different time points during
the study.</p>
<div class="section level3">
<h3 id="required-columns-1">Required Columns<a class="anchor" aria-label="anchor" href="#required-columns-1"></a>
</h3>
<ul>
<li>
<strong>time</strong>: A numeric value representing the time point
during the study period.</li>
<li>
<strong>prob</strong>: A numeric value representing the probability
density at that specific time point, indicating the likelihood of an
attack or event at that time.</li>
</ul>
</div>
<div class="section level3">
<h3 id="example-for-attack_rate_data">Example for <code>attack_rate_data</code><a class="anchor" aria-label="anchor" href="#example-for-attack_rate_data"></a>
</h3>
<p>Note this is applied to the fitted exposure type. If not defined will
assume a uniform probability of infection over the whole study
period.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exposureFitted</span> <span class="op">&lt;-</span> <span class="st">"inf"</span></span>
<span></span>
<span><span class="co"># Create the attack_rate_data dataframe</span></span>
<span><span class="va">attack_rate_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>  prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">0.33</span>, <span class="fl">0.33</span>, <span class="fl">0.33</span>, <span class="fl">0.0</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">attack_rate_data</span></span></code></pre></div>
<pre><code><span><span class="co">##   time prob</span></span>
<span><span class="co">## 1    1 0.00</span></span>
<span><span class="co">## 2    2 0.33</span></span>
<span><span class="co">## 3    3 0.33</span></span>
<span><span class="co">## 4    4 0.33</span></span>
<span><span class="co">## 5    5 0.00</span></span></code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Hodgson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
